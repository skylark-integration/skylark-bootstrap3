{"version":3,"sources":["onloaded.js"],"names":["define","langx","$","each","$spy","this","data","offset","offsetBottom","bottom","offsetTop","top","affix","document","on","e","$btn","target","closest","button","is","preventDefault","trigger","find","first","toggleClass","test","type","$this","carousel","href","$target","attr","replace","hasClass","options","mixin","slideIndex","interval","plugin","to","$trigger","option","collapse","dropdown","remote","one","showEvent","isDefaultPrevented","modal","scrollspy","clickHandler","tab"],"mappings":"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","file":"../onloaded.js","sourcesContent":["define([\n \t\"skylark-langx/langx\",\n \t\"skylark-utils-dom/query\",\n\t\"./affix\",\n\t\"./alert\",\n\t\"./button\",\n\t\"./carousel\",\n\t\"./collapse\",\n\t\"./dropdown\",\n\t\"./modal\",\n\t\"./popover\",\n\t\"./scrollspy\",\n\t\"./tab\",\n\t\"./tooltip\",\n\t\"./transition\"\n],function(langx,$){\n  function getTargetFromTrigger($trigger) {\n    var href\n    var target = $trigger.attr('data-target')\n      || (href = $trigger.attr('href')) && href.replace(/.*(?=#[^\\s]+$)/, '') // strip for ie7\n\n    return $(target)\n  }\n\n\tvar init = function() {\n    \n\t\t$(function () {\n\t\t    // AFFIX DATA-API\n\t\t    // =================\n\t\t\t$('[data-spy=\"affix\"]').each(function () {\n\t\t\t\tvar $spy = $(this)\n\t\t\t\tvar data = $spy.data()\n\n\t\t\t\tdata.offset = data.offset || {};\n\n\t\t\t\tif (data.offsetBottom != null) data.offset.bottom = data.offsetBottom\n\t\t\t\tif (data.offsetTop    != null) data.offset.top    = data.offsetTop\n\n\t\t\t\t$spy.affix(data);\n\t\t\t});\n\n\n\t\t  \t// ALERT DATA-API\n\t\t    // =================\n  \t\t\t//$(document).on('click.bs.alert.data-api', dismiss, Alert.prototype.close)\n\n  \t\t\t// BUTTON DATA-API\n\t\t    // =================\n\t\t\t$(document).on('click.bs3.button.data-api', '[data-toggle^=\"button\"]', function (e) {\n\t\t\t\tvar $btn = $(e.target).closest('.btn')\n\t\t\t\t$btn.button('toggle');\n\t\t\t\tif (!($(e.target).is('input[type=\"radio\"], input[type=\"checkbox\"]'))) {\n\t\t\t\t\t// Prevent double click on radios, and the double selections (so cancellation) on checkboxes\n\t\t\t\t\te.preventDefault()\n\t\t\t\t\t// The target component still receive the focus\n\t\t\t\t\tif ($btn.is('input,button')) {\n\t\t\t\t\t\t$btn.trigger('focus');\n\t\t\t\t\t}else {\n\t\t\t\t\t\t$btn.find('input:visible,button:visible').first().trigger('focus');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}).on('focus.bs3.button.data-api blur.bs3.button.data-api', '[data-toggle^=\"button\"]', function (e) {\n\t\t\t\t$(e.target).closest('.btn').toggleClass('focus', /^focus(in)?$/.test(e.type));\n\t\t\t});\n\n\t\t    // CAROUSEL DATA-API\n\t\t    // =================\n\t\t\t$('[data-ride=\"carousel\"]').each(function () {\n\t\t\t\t$this = $(this);\n\t\t\t\t$this.carousel($this.data());\n\t\t\t});\n\n            $(document).on(\"click.bs3.carousel.data-api\", \"[data-target][data-slide],[data-target][data-slide-to],[href][data-slide],[href][data-slide-to]\", function(e) {\n\t            var href\n\t            var $this = $(this)\n\t            var $target = $($this.attr('data-target') || (href = $this.attr('href')) && href.replace(/.*(?=#[^\\s]+$)/, '')) // strip for ie7\n\t            if (!$target.hasClass('carousel')) return\n\t            var options = langx.mixin({}, $target.data(), $this.data());\n\t            var slideIndex = $this.attr('data-slide-to')\n\t            if (slideIndex) options.interval = false\n\n\t            $target.carousel(options);\n\n\t            if (slideIndex) {\n\t                $target.plugin('bs3.carousel').to(slideIndex);\n\t            }\n\n\t            e.preventDefault();\n\n\t        });\n \n\t\t\t// COLLAPSE DATA-API\n\t\t\t// =================\n  \t\t    $(document).on('click.bs3.collapse.data-api', '[data-target][data-toggle=\"collapse\"]', function (e) {\n\t\t\t    var $this   = $(this)\n\n\t\t\t    if (!$this.attr('data-target')) e.preventDefault()\n\n\t\t\t    var $target = getTargetFromTrigger($this)\n\t\t\t    var data    = $target.plugin('bs3.collapse')\n\t\t\t    var option  = data ? 'toggle' : $this.data()\n\n\t\t\t    $target.collapse(option);\n\t\t    });\n\n\t\t    // Dropdown DATA-API\n\t\t    // =================\n\t\t\t$('[data-ride=\"dropdown\"]').each(function () {\n\t\t\t\t$this = $(this);\n\t\t\t\t$this.dropdown($this.data());\n\t\t\t});\n\n\t\t\t// MODAL DATA-API\n\t\t\t// ==============\n\t\t\t$(document).on('click.bs3.modal.data-api', '[data-toggle=\"modal\"]', function (e) {\n\t\t\t\tvar $this   = $(this)\n\t\t\t\tvar href    = $this.attr('href')\n\t\t\t\tvar $target = $($this.attr('data-target') || (href && href.replace(/.*(?=#[^\\s]+$)/, ''))) // strip for ie7\n\t\t\t\tvar option  = $target.data('bse.modal') ? 'toggle' : langx.mixin({ remote: !/#/.test(href) && href }, $target.data(), $this.data())\n\n\t\t\t\tif ($this.is('a')) e.preventDefault()\n\n\t\t\t\t$target.one('show.bs3.modal', function (showEvent) {\n\t\t\t  \t\tif (showEvent.isDefaultPrevented()) return // only register focus restorer if modal will actually get shown\n\t\t\t  \t\t$target.one('hidden.bs3.modal', function () {\n\t\t\t    \t\t$this.is(':visible') && $this.trigger('focus')\n\t\t\t  \t\t})\n\t\t\t\t})\n\t\t\t\t$target.modal(option, this);\n\t\t\t});\n\n \t\t\t// SCROLLSPY DATA-API\n \t\t\t// ==================\n\t\t\t$('[data-spy=\"scroll\"]').each(function () {\n\t\t\t\tvar $spy = $(this)\n\t\t\t\t$spy.scrollspy($spy.data());\n\t\t\t});\n\n\t\t\t// TAB DATA-API\n\t\t\t// ============\n\n\t\t\tvar clickHandler = function (e) {\n\t\t\t    e.preventDefault()\n\t\t\t    $(this).tab('show');\n\t\t\t};\n\n  \t\t\t$(document)\n    \t\t\t.on('click.bs3.tab.data-api', '[data-toggle=\"tab\"]', clickHandler)\n    \t\t\t.on('click.bs3.tab.data-api', '[data-toggle=\"pill\"]', clickHandler);\n\n  \t\t})\n\t};\n\n\treturn init;\n});"]}