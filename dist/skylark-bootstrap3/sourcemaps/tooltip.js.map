{"version":3,"sources":["tooltip.js"],"names":["define","langx","browser","eventer","noder","geom","$","plugins","bs3","Tooltip","Plugin","inherit","klassName","pluginName","_construct","element","options","this","type","enabled","timeout","hoverState","$element","inState","getOptions","$viewport","viewport","isFunction","call","selector","click","hover","focus","document","constructor","Error","triggers","trigger","split","i","length","on","proxy","toggle","eventIn","eventOut","enter","leave","_options","mixin","fixTitle","getDefaults","DEFAULTS","data","delay","show","hide","getDelegateOptions","defaults","each","key","value","obj","self","currentTarget","plugin","create","tip","hasClass","clearTimeout","setTimeout","isInStateTrue","e","hasContent","inDom","contains","ownerDocument","documentElement","isDefaultPrevented","that","$tip","tipId","getUID","setContent","attr","animation","addClass","placement","autoToken","autoPlace","test","replace","detach","css","top","left","display","container","appendTo","insertAfter","pos","getPosition","actualWidth","offsetWidth","actualHeight","offsetHeight","orgPlacement","viewportDim","bottom","right","width","removeClass","calculatedOffset","getCalculatedOffset","applyPlacement","complete","prevHoverState","support","transition","one","emulateTransitionEnd","TRANSITION_DURATION","offset","height","marginTop","parseInt","marginLeft","isNaN","pagePosition","delta","getViewportAdjustedDelta","isVertical","arrowDelta","arrowOffsetPosition","replaceArrow","dimension","arrow","title","getTitle","find","html","callback","removeAttr","$e","el","isBody","tagName","elRect","getBoundingClientRect","isSvg","window","SVGElement","elOffset","scroll","scrollTop","body","outerDims","viewportPadding","padding","viewportDimensions","topEdgeOffset","bottomEdgeOffset","leftEdgeOffset","rightEdgeOffset","o","prefix","Math","random","getElementById","template","$arrow","enable","disable","toggleEnabled","destroy","off","removeData","VERSION","register"],"mappings":"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","file":"../tooltip.js","sourcesContent":["define([\n  \"skylark-langx/langx\",\n  \"skylark-domx-browser\",\n  \"skylark-domx-eventer\",\n  \"skylark-domx-noder\",\n  \"skylark-domx-geom\",\n  \"skylark-domx-query\",\n  \"skylark-domx-plugins\",\n  \"./bs3\"\n],function(langx,browser,eventer,noder,geom,$,plugins,bs3){\n\n/* ========================================================================\n * Bootstrap: tooltip.js v3.3.7\n * http://getbootstrap.com/javascript/#tooltip\n * Inspired by the original jQuery.tipsy by Jason Frame\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n  'use strict';\n\n  // TOOLTIP PUBLIC CLASS DEFINITION\n  // ===============================\n\n  var Tooltip = bs3.Tooltip = plugins.Plugin.inherit({\n    klassName: \"Tooltip\",\n\n    pluginName : \"bs3.tooltip\",\n\n    _construct : function(element,options) {\n      this.type       = null\n      this.options    = null\n      this.enabled    = null\n      this.timeout    = null\n      this.hoverState = null\n      this.$element   = null\n      this.inState    = null\n\n      this.enabled   = true;\n      this.type      = 'tooltip';\n      this.$element  = $(element)\n      this.options   = this.getOptions(options)\n      this.$viewport = this.options.viewport && $(langx.isFunction(this.options.viewport) ? this.options.viewport.call(this, this.$element) : (this.options.viewport.selector || this.options.viewport))\n      this.inState   = { click: false, hover: false, focus: false }\n\n      if (this.$element[0] instanceof document.constructor && !this.options.selector) {\n        throw new Error('`selector` option must be specified when initializing ' + this.type + ' on the window.document object!')\n      }\n\n      var triggers = this.options.trigger.split(' ')\n\n      for (var i = triggers.length; i--;) {\n        var trigger = triggers[i]\n\n        if (trigger == 'click') {\n          this.$element.on('click.' + this.type, this.options.selector, langx.proxy(this.toggle, this))\n        } else if (trigger != 'manual') {\n          var eventIn  = trigger == 'hover' ? 'mouseenter' : 'focusin'\n          var eventOut = trigger == 'hover' ? 'mouseleave' : 'focusout'\n\n          this.$element.on(eventIn  + '.' + this.type, this.options.selector, langx.proxy(this.enter, this))\n          this.$element.on(eventOut + '.' + this.type, this.options.selector, langx.proxy(this.leave, this))\n        }\n      }\n\n      this.options.selector ?\n        (this._options = langx.mixin({}, this.options, { trigger: 'manual', selector: '' })) :\n        this.fixTitle()\n    },\n\n    getDefaults : function () {\n      return Tooltip.DEFAULTS\n    },\n\n    getOptions : function (options) {\n      options = langx.mixin({}, this.getDefaults(), this.$element.data(), options)\n\n      if (options.delay && typeof options.delay == 'number') {\n        options.delay = {\n          show: options.delay,\n          hide: options.delay\n        }\n      }\n\n      return options\n    },\n\n    getDelegateOptions : function () {\n      var options  = {}\n      var defaults = this.getDefaults()\n\n      this._options && langx.each(this._options, function (key, value) {\n        if (defaults[key] != value) options[key] = value\n      })\n\n      return options\n    },\n\n    enter : function (obj) {\n      var self = obj instanceof this.constructor ?\n        obj : $(obj.currentTarget).plugin(this.pluginName)\n\n      if (!self) {\n        //self = new this.constructor(obj.currentTarget, this.getDelegateOptions())\n        self = $(obj.currentTarget).plugin(this.pluginName, this.getDelegateOptions())\n      }\n\n      if (obj instanceof eventer.create) {\n        self.inState[obj.type == 'focusin' ? 'focus' : 'hover'] = true\n      }\n\n      if (self.tip().hasClass('in') || self.hoverState == 'in') {\n        self.hoverState = 'in'\n        return\n      }\n\n      clearTimeout(self.timeout)\n\n      self.hoverState = 'in'\n\n      if (!self.options.delay || !self.options.delay.show) return self.show()\n\n      self.timeout = setTimeout(function () {\n        if (self.hoverState == 'in') self.show()\n      }, self.options.delay.show)\n    },\n\n    isInStateTrue : function () {\n      for (var key in this.inState) {\n        if (this.inState[key]) return true\n      }\n\n      return false\n    },\n\n    leave : function (obj) {\n      var self = obj instanceof this.constructor ?\n        obj : $(obj.currentTarget).plugin(this.pluginName)\n\n      if (!self) {\n        //self = new this.constructor(obj.currentTarget, this.getDelegateOptions())\n        self = $(obj.currentTarget).plugin(this.pluginName, this.getDelegateOptions())\n      }\n\n      if (obj instanceof eventer.create) {\n        self.inState[obj.type == 'focusout' ? 'focus' : 'hover'] = false\n      }\n\n      if (self.isInStateTrue()) return\n\n      clearTimeout(self.timeout)\n\n      self.hoverState = 'out'\n\n      if (!self.options.delay || !self.options.delay.hide) return self.hide()\n\n      self.timeout = setTimeout(function () {\n        if (self.hoverState == 'out') self.hide()\n      }, self.options.delay.hide)\n    },\n\n    show : function () {\n      var e = eventer.create('show.bs.' + this.type)\n\n      if (this.hasContent() && this.enabled) {\n        this.$element.trigger(e)\n\n        var inDom = noder.contains(this.$element[0].ownerDocument.documentElement, this.$element[0])\n        if (e.isDefaultPrevented() || !inDom) return\n        var that = this\n\n        var $tip = this.tip()\n\n        var tipId = this.getUID(this.type)\n\n        this.setContent()\n        $tip.attr('id', tipId)\n        this.$element.attr('aria-describedby', tipId)\n\n        if (this.options.animation) $tip.addClass('fade')\n\n        var placement = typeof this.options.placement == 'function' ?\n          this.options.placement.call(this, $tip[0], this.$element[0]) :\n          this.options.placement\n\n        var autoToken = /\\s?auto?\\s?/i\n        var autoPlace = autoToken.test(placement)\n        if (autoPlace) placement = placement.replace(autoToken, '') || 'top'\n\n        $tip\n          .detach()\n          .css({ top: 0, left: 0, display: 'block' })\n          .addClass(placement)\n          .data('bs3.' + this.type, this)\n\n        this.options.container ? $tip.appendTo(this.options.container) : $tip.insertAfter(this.$element)\n        this.$element.trigger('inserted.bs3.' + this.type)\n\n        var pos          = this.getPosition()\n        var actualWidth  = $tip[0].offsetWidth\n        var actualHeight = $tip[0].offsetHeight\n\n        if (autoPlace) {\n          var orgPlacement = placement\n          var viewportDim = this.getPosition(this.$viewport)\n\n          placement = placement == 'bottom' && pos.bottom + actualHeight > viewportDim.bottom ? 'top'    :\n                      placement == 'top'    && pos.top    - actualHeight < viewportDim.top    ? 'bottom' :\n                      placement == 'right'  && pos.right  + actualWidth  > viewportDim.width  ? 'left'   :\n                      placement == 'left'   && pos.left   - actualWidth  < viewportDim.left   ? 'right'  :\n                      placement\n\n          $tip\n            .removeClass(orgPlacement)\n            .addClass(placement)\n        }\n\n        var calculatedOffset = this.getCalculatedOffset(placement, pos, actualWidth, actualHeight)\n\n        this.applyPlacement(calculatedOffset, placement)\n\n        var complete = function () {\n          var prevHoverState = that.hoverState\n          that.$element.trigger('shown.bs3.' + that.type)\n          that.hoverState = null\n\n          if (prevHoverState == 'out') that.leave(that)\n        }\n\n        browser.support.transition && this.$tip.hasClass('fade') ?\n          $tip\n            .one('transitionEnd', complete)\n            .emulateTransitionEnd(Tooltip.TRANSITION_DURATION) :\n          complete()\n      }\n    },\n\n    applyPlacement : function (offset, placement) {\n      var $tip   = this.tip()\n      var width  = $tip[0].offsetWidth\n      var height = $tip[0].offsetHeight\n\n      // manually read margins because getBoundingClientRect includes difference\n      var marginTop = parseInt($tip.css('margin-top'), 10)\n      var marginLeft = parseInt($tip.css('margin-left'), 10)\n\n      // we must check for NaN for ie 8/9\n      if (isNaN(marginTop))  marginTop  = 0\n      if (isNaN(marginLeft)) marginLeft = 0\n\n      offset.top  += marginTop\n      offset.left += marginLeft\n\n      // $.fn.offset doesn't round pixel values\n      // so we use setOffset directly with our own function B-0\n      //$.offset.setOffset($tip[0], langx.mixin({\n       // using: function (props) {\n       //   $tip.css({\n       //     top: Math.round(props.top),\n       //     left: Math.round(props.left)\n       //   })\n       /// }\n      //}, offset), 0);\n\n      geom.pagePosition($tip[0],offset);\n      \n\n      $tip.addClass('in')\n\n      // check to see if placing tip in new offset caused the tip to resize itself\n      var actualWidth  = $tip[0].offsetWidth\n      var actualHeight = $tip[0].offsetHeight\n\n      if (placement == 'top' && actualHeight != height) {\n        offset.top = offset.top + height - actualHeight\n      }\n\n      var delta = this.getViewportAdjustedDelta(placement, offset, actualWidth, actualHeight)\n\n      if (delta.left) offset.left += delta.left\n      else offset.top += delta.top\n\n      var isVertical          = /top|bottom/.test(placement)\n      var arrowDelta          = isVertical ? delta.left * 2 - width + actualWidth : delta.top * 2 - height + actualHeight\n      var arrowOffsetPosition = isVertical ? 'offsetWidth' : 'offsetHeight'\n\n      $tip.offset(offset)\n      this.replaceArrow(arrowDelta, $tip[0][arrowOffsetPosition], isVertical)\n    },\n\n    replaceArrow : function (delta, dimension, isVertical) {\n      this.arrow()\n        .css(isVertical ? 'left' : 'top', 50 * (1 - delta / dimension) + '%')\n        .css(isVertical ? 'top' : 'left', '')\n    },\n\n    setContent : function () {\n      var $tip  = this.tip()\n      var title = this.getTitle()\n\n      $tip.find('.tooltip-inner')[this.options.html ? 'html' : 'text'](title)\n      $tip.removeClass('fade in top bottom left right')\n    },\n\n    hide : function (callback) {\n      var that = this\n      var $tip = $(this.$tip)\n      var e    = eventer.create('hide.bs3.' + this.type)\n\n      function complete() {\n        if (that.hoverState != 'in') $tip.detach()\n        if (that.$element) { // TODO: Check whether guarding this code with this `if` is really necessary.\n          that.$element\n            .removeAttr('aria-describedby')\n            .trigger('hidden.bs3.' + that.type)\n        }\n        callback && callback()\n      }\n\n      this.$element.trigger(e)\n\n      if (e.isDefaultPrevented()) return\n\n      $tip.removeClass('in')\n\n      browser.support.transition && $tip.hasClass('fade') ?\n        $tip\n          .one('transitionEnd', complete)\n          .emulateTransitionEnd(Tooltip.TRANSITION_DURATION) :\n        complete()\n\n      this.hoverState = null\n\n      return this\n    },\n\n    fixTitle : function () {\n      var $e = this.$element\n      if ($e.attr('title') || typeof $e.attr('data-original-title') != 'string') {\n        $e.attr('data-original-title', $e.attr('title') || '').attr('title', '')\n      }\n    },\n\n    hasContent : function () {\n      return this.getTitle()\n    },\n\n    getPosition : function ($element) {\n      $element   = $element || this.$element\n\n      var el     = $element[0]\n      var isBody = el.tagName == 'BODY'\n\n      var elRect    = el.getBoundingClientRect()\n      if (elRect.width == null) {\n        // width and height are missing in IE8, so compute them manually; see https://github.com/twbs/bootstrap/issues/14093\n        elRect = langx.mixin({}, elRect, { width: elRect.right - elRect.left, height: elRect.bottom - elRect.top })\n      }\n      var isSvg = window.SVGElement && el instanceof window.SVGElement\n      // Avoid using $.offset() on SVGs since it gives incorrect results in jQuery 3.\n      // See https://github.com/twbs/bootstrap/issues/20280\n      var elOffset  = isBody ? { top: 0, left: 0 } : (isSvg ? null : $element.offset())\n      var scroll    = { scroll: isBody ? document.documentElement.scrollTop || document.body.scrollTop : $element.scrollTop() }\n      var outerDims = isBody ? { width: $(window).width(), height: $(window).height() } : null\n\n      return langx.mixin({}, elRect, scroll, outerDims, elOffset)\n    },\n\n    getCalculatedOffset : function (placement, pos, actualWidth, actualHeight) {\n      return placement == 'bottom' ? { top: pos.top + pos.height,   left: pos.left + pos.width / 2 - actualWidth / 2 } :\n             placement == 'top'    ? { top: pos.top - actualHeight, left: pos.left + pos.width / 2 - actualWidth / 2 } :\n             placement == 'left'   ? { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left - actualWidth } :\n          /* placement == 'right' */ { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left + pos.width }\n\n    },\n\n    getViewportAdjustedDelta : function (placement, pos, actualWidth, actualHeight) {\n      var delta = { top: 0, left: 0 }\n      if (!this.$viewport) return delta\n\n      var viewportPadding = this.options.viewport && this.options.viewport.padding || 0\n      var viewportDimensions = this.getPosition(this.$viewport)\n\n      if (/right|left/.test(placement)) {\n        var topEdgeOffset    = pos.top - viewportPadding - viewportDimensions.scroll\n        var bottomEdgeOffset = pos.top + viewportPadding - viewportDimensions.scroll + actualHeight\n        if (topEdgeOffset < viewportDimensions.top) { // top overflow\n          delta.top = viewportDimensions.top - topEdgeOffset\n        } else if (bottomEdgeOffset > viewportDimensions.top + viewportDimensions.height) { // bottom overflow\n          delta.top = viewportDimensions.top + viewportDimensions.height - bottomEdgeOffset\n        }\n      } else {\n        var leftEdgeOffset  = pos.left - viewportPadding\n        var rightEdgeOffset = pos.left + viewportPadding + actualWidth\n        if (leftEdgeOffset < viewportDimensions.left) { // left overflow\n          delta.left = viewportDimensions.left - leftEdgeOffset\n        } else if (rightEdgeOffset > viewportDimensions.right) { // right overflow\n          delta.left = viewportDimensions.left + viewportDimensions.width - rightEdgeOffset\n        }\n      }\n\n      return delta\n    },\n\n    getTitle : function () {\n      var title\n      var $e = this.$element\n      var o  = this.options\n\n      title = $e.attr('data-original-title')\n        || (typeof o.title == 'function' ? o.title.call($e[0]) :  o.title)\n\n      return title\n    },\n\n    getUID : function (prefix) {\n      do prefix += ~~(Math.random() * 1000000)\n      while (document.getElementById(prefix))\n      return prefix\n    },\n\n    tip : function () {\n      if (!this.$tip) {\n        this.$tip = $(this.options.template)\n        if (this.$tip.length != 1) {\n          throw new Error(this.type + ' `template` option must consist of exactly 1 top-level element!')\n        }\n      }\n      return this.$tip\n    },\n\n    arrow : function () {\n      return (this.$arrow = this.$arrow || this.tip().find('.tooltip-arrow'))\n    },\n\n    enable : function () {\n      this.enabled = true\n    },\n\n    disable : function () {\n      this.enabled = false\n    },\n\n    toggleEnabled : function () {\n      this.enabled = !this.enabled\n    },\n\n    toggle : function (e) {\n      var self = this\n      if (e) {\n        self = $(e.currentTarget).plugin(this.pluginName)\n        if (!self) {\n          //self = new this.constructor(e.currentTarget, this.getDelegateOptions())\n          self = $(e.currentTarget).plugin(this.pluginName, this.getDelegateOptions());\n        }\n      }\n\n      if (e) {\n        self.inState.click = !self.inState.click\n        if (self.isInStateTrue()) self.enter(self)\n        else self.leave(self)\n      } else {\n        self.tip().hasClass('in') ? self.leave(self) : self.enter(self)\n      }\n    },\n\n    destroy : function () {\n      var that = this\n      clearTimeout(this.timeout)\n      this.hide(function () {\n        that.$element.off('.' + that.type).removeData('bs3.' + that.type)\n        if (that.$tip) {\n          that.$tip.detach()\n        }\n        that.$tip = null\n        that.$arrow = null\n        that.$viewport = null\n        that.$element = null\n      })\n    }\n\n  }); \n\n\n\n  Tooltip.VERSION  = '3.3.7'\n\n  Tooltip.TRANSITION_DURATION = 150\n\n  Tooltip.DEFAULTS = {\n    animation: true,\n    placement: 'top',\n    selector: false,\n    template: '<div class=\"tooltip\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>',\n    trigger: 'hover focus',\n    title: '',\n    delay: 0,\n    html: false,\n    container: false,\n    viewport: {\n      selector: 'body',\n      padding: 0\n    }\n  }\n\n\n  /*\n  // TOOLTIP PLUGIN DEFINITION\n  // =========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.tooltip')\n      var options = typeof option == 'object' && option\n\n      if (!data && /destroy|hide/.test(option)) return\n      if (!data) $this.data('bs.tooltip', (data = new Tooltip(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.tooltip\n\n  $.fn.tooltip             = Plugin;\n  $.fn.tooltip.Constructor = Tooltip;\n\n\n  // TOOLTIP NO CONFLICT\n  // ===================\n\n  $.fn.tooltip.noConflict = function () {\n    $.fn.tooltip = old;\n    return this;\n  }\n\n  return $.fn.tooltip;\n  */\n\n  plugins.register(Tooltip,\"tooltip\");\n\n  return Tooltip;\n});\n"]}