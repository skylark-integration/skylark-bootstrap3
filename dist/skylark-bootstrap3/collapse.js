/**
 * skylark-bootstrap3 - The skylark standard widget tookit
 * @author Hudaokeji, Inc.
 * @version v0.9.2
 * @link https://github.com/skylarkui/skylark-bootstrap3/
 * @license MIT
 */
define(["skylark-langx/langx","skylark-domx-browser","skylark-domx-eventer","skylark-domx-noder","skylark-domx-geom","skylark-domx-query","skylark-domx-plugins","./bs3","./transition"],function(t,e,s,i,a,n,l,r){"use strict";var o=r.Collapse=l.Plugin.inherit({klassName:"Collapse",pluginName:"bs3.collapse",_construct:function(e,s){s=t.mixin({},o.DEFAULTS,n(e).data(),s),this.overrided(e,s),this.$element=n(e),this.$trigger=n('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()},dimension:function(){return this.$element.hasClass("width")?"width":"height"},show:function(){if(!this.transitioning&&!this.$element.hasClass("in")){var i,a=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(a&&a.length&&(i=a.data("bs.collapse"))&&i.transitioning)){var n=s.create("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){a&&a.length&&(a.collapse("hide"),i||a.data("bs.collapse",null));var l=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[l](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[l](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return r.call(this);var d=t.camelCase(["scroll",l].join("-"));this.$element.one("transitionEnd",t.proxy(r,this)).emulateTransitionEnd(o.TRANSITION_DURATION)[l](this.$element[0][d])}}}},hide:function(){if(!this.transitioning&&this.$element.hasClass("in")){var i=s.create("hide.bs.collapse");if(this.$element.trigger(i),!i.isDefaultPrevented()){var a=this.dimension();this.$element[a](this.$element[a]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!e.support.transition)return n.call(this);this.$element[a](0).one("transitionEnd",t.proxy(n,this)).emulateTransitionEnd(o.TRANSITION_DURATION)}}},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()},getParent:function(){return n(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(t,e){var s,i,a,l=n(e);this.addAriaAndCollapsedClass((a=(s=l).attr("data-target")||(i=s.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),n(a)),l)},this)).end()},addAriaAndCollapsedClass:function(t,e){var s=t.hasClass("in");t.attr("aria-expanded",s),e.toggleClass("collapsed",!s).attr("aria-expanded",s)}});return o.VERSION="3.3.7",o.TRANSITION_DURATION=350,o.DEFAULTS={toggle:!0},l.register(o,"collapse"),o});
//# sourceMappingURL=sourcemaps/collapse.js.map
